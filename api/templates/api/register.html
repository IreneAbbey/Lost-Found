<!DOCTYPE html>
<html>
<head><title>Register</title></head>
<body>
  <h2>Register</h2>
  <form method="post">
    {% csrf_token %}
    {{ form.as_p }}

    <div id="driver-fields" style="display: none;">
      {{ driver_form.as_p }}
    </div>

    <button type="submit">Register</button>
  </form>

  <script>
    const roleSelect = document.querySelector("select[name='role']");
    const driverFields = document.getElementById("driver-fields");

    roleSelect.addEventListener("change", function () {
      if (this.value === 'driver') {
        driverFields.style.display = 'block';
      } else {
        driverFields.style.display = 'none';
      }
    });
  </script>
</body>
</html>
